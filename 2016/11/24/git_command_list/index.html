<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>常用git命令 | 金城的妖精见过米</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">常用git命令</h1><a id="logo" href="/.">金城的妖精见过米</a><p class="description">生命若给我无数张面孔，我永远选择最疼痛的一张去触摸</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">常用git命令</h1><div class="post-meta">Nov 24, 2016<span> | </span><span class="category"><a href="/categories/git学习笔记/">git学习笔记</a></span></div><div class="post-content"><h3 id="新建代码仓库"><a href="#新建代码仓库" class="headerlink" title="新建代码仓库"></a>新建代码仓库</h3><ul>
<li>在当前目录新建一个Git代码库<br>$ git init</li>
<li>新建一个目录，将其初始化为Git代码库<br>$ git init [project-name]</li>
<li>下载一个项目和它的整个代码历史<br>$ git clone [url]</li>
</ul>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><strong>Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</strong></p>
<ul>
<li>显示当前的Git配置<br>$ git config –list</li>
<li>编辑Git配置文件<br>$ git config -e [–global]</li>
<li>设置提交代码时的用户信息<br>$ git config [–global] user.name “[name]”<br>$ git config [–global] user.email “[email address]”</li>
</ul>
<h3 id="增加-删除文件"><a href="#增加-删除文件" class="headerlink" title="增加/删除文件"></a>增加/删除文件</h3><ul>
<li>添加指定文件到暂存区<br>$ git add [file1] [file2] …</li>
<li>添加指定目录到暂存区，包括子目录<br>$ git add [dir]</li>
<li>添加当前目录的所有文件到暂存区<br>$ git add .</li>
<li>添加每个变化前，都会要求确认</li>
<li>对于同一个文件的多处变化，可以实现分次提交<br>$ git add -p</li>
<li>删除工作区文件，并且将这次删除放入暂存区<br>$ git rm [file1] [file2] …</li>
<li>停止追踪指定文件，但该文件会保留在工作区<br>$ git rm –cached [file]</li>
<li>改名文件，并且将这个改名放入暂存区<br>$ git mv [file-original] [file-renamed]</li>
</ul>
<h3 id="代码提交"><a href="#代码提交" class="headerlink" title="代码提交"></a>代码提交</h3><ul>
<li>提交暂存区到仓库区<br>$ git commit -m [message]</li>
<li>提交暂存区的指定文件到仓库区<br>$ git commit [file1] [file2] … -m [message]</li>
<li>提交工作区自上次commit之后的变化，直接到仓库区<br>$ git commit -a</li>
<li>提交时显示所有diff信息<br>$ git commit -v</li>
<li>使用一次新的commit，替代上一次提交</li>
<li>如果代码没有任何新变化，则用来改写上一次commit的提交信息<br>$ git commit –amend -m [message]</li>
<li>重做上一次commit，并包括指定文件的新变化<br>$ git commit –amend [file1] [file2] …</li>
</ul>
<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><ul>
<li>列出所有本地分支<br>$ git branch</li>
<li>列出所有远程分支<br>$ git branch -r</li>
<li>列出所有本地分支和远程分支<br>$ git branch -a</li>
<li>新建一个分支，但依然停留在当前分支<br>$ git branch [branch-name]</li>
<li>新建一个分支，并切换到该分支<br>$ git checkout -b [branch]</li>
<li>新建一个分支，指向指定commit<br>$ git branch [branch] [commit]</li>
<li>新建一个分支，与指定的远程分支建立追踪关系<br>$ git branch –track [branch] [remote-branch]</li>
<li>切换到指定分支，并更新工作区<br>$ git checkout [branch-name]</li>
<li>切换到上一个分支<br>$ git checkout -</li>
<li>建立追踪关系，在现有分支与指定的远程分支之间<br>$ git branch –set-upstream [branch] [remote-branch]</li>
<li>合并指定分支到当前分支<br>$ git merge [branch]</li>
<li>选择一个commit，合并进当前分支<br>$ git cherry-pick [commit]</li>
<li>删除分支<br>$ git branch -d [branch-name]</li>
<li>删除远程分支<br>$ git push origin  :[branch-name]<br>$ git push origin –delete [branch-name]<br>$ git branch -dr [remote/branch]</li>
</ul>
<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><ul>
<li>列出所有tag<br>$ git tag</li>
<li>新建一个tag在当前commit<br>$ git tag [tag]</li>
<li>新建一个tag在指定commit<br>$ git tag [tag] [commit]</li>
<li>删除本地tag<br>$ git tag -d [tag]</li>
<li>删除远程tag<br>$ git push origin :refs/tags/[tagName]</li>
<li>查看tag信息<br>$ git show [tag]</li>
<li>提交指定tag<br>$ git push [remote] [tag]</li>
<li>提交所有tag<br>$ git push [remote] –tags</li>
<li>新建一个分支，指向某个tag<br>$ git checkout -b [branch] [tag]</li>
</ul>
<h3 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h3><ul>
<li>显示有变更的文件<br>$ git status</li>
<li>显示当前分支的版本历史<br>$ git log</li>
<li>显示commit历史，以及每次commit发生变更的文件<br>$ git log –stat</li>
<li>搜索提交历史，根据关键词<br>$ git log -S [keyword]</li>
<li>显示某个commit之后的所有变动，每个commit占据一行<br>$ git log [tag] HEAD –pretty=format:%s</li>
<li>显示某个commit之后的所有变动，其”提交说明”必须符合搜索条件<br>$ git log [tag] HEAD –grep feature</li>
<li>显示某个文件的版本历史，包括文件改名<br>$ git log –follow [file]<br>$ git whatchanged [file]</li>
<li>显示指定文件相关的每一次diff<br>$ git log -p [file]</li>
<li>显示过去5次提交<br>$ git log -5 –pretty –oneline</li>
<li>显示所有提交过的用户，按提交次数排序<br>$ git shortlog -sn</li>
<li>显示指定文件是什么人在什么时间修改过<br>$ git blame [file]</li>
<li>显示暂存区和工作区的差异<br>$ git diff</li>
<li>显示暂存区和上一个commit的差异<br>$ git diff –cached [file]</li>
<li>显示工作区与当前分支最新commit之间的差异<br>$ git diff HEAD</li>
<li>显示两次提交之间的差异<br>$ git diff [first-branch]…[second-branch]</li>
<li>显示今天你写了多少行代码<br>$ git diff –shortstat “@{0 day ago}”</li>
<li>显示某次提交的元数据和内容变化<br>$ git show [commit]</li>
<li>显示某次提交发生变化的文件<br>$ git show –name-only [commit]</li>
<li>显示某次提交时，某个文件的内容<br>$ git show [commit]:[filename]</li>
<li>显示当前分支的最近几次提交<br>$ git reflog</li>
</ul>
<h3 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h3><ul>
<li>下载远程仓库的所有变动<br>$ git fetch [remote]</li>
<li>显示所有远程仓库<br>$ git remote -v</li>
<li>显示某个远程仓库的信息<br>$ git remote show [remote]</li>
<li>增加一个新的远程仓库，并命名<br>$ git remote add [shortname] [url]</li>
<li>取回远程仓库的变化，并与本地分支合并<br>$ git pull [remote] [branch]</li>
<li>上传本地指定分支到远程仓库<br>$ git push [remote] [branch]</li>
<li>强行推送当前分支到远程仓库，即使有冲突<br>$ git push [remote] –force</li>
<li>推送所有分支到远程仓库<br>$ git push [remote] –all</li>
</ul>
<h3 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h3><ul>
<li>恢复暂存区的指定文件到工作区<br>$ git checkout [file]</li>
<li>恢复某个commit的指定文件到暂存区和工作区<br>$ git checkout [commit] [file]</li>
<li>恢复暂存区的所有文件到工作区<br>$ git checkout .</li>
<li>重置暂存区的指定文件，与上一次commit保持一致，但工作区不变<br>$ git reset [file]</li>
<li>重置暂存区与工作区，与上一次commit保持一致<br>$ git reset –hard</li>
<li>重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变<br>$ git reset [commit]</li>
<li>重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致<br>$ git reset –hard [commit]</li>
<li>重置当前HEAD为指定commit，但保持暂存区和工作区不变<br>$ git reset –keep [commit]</li>
<li>新建一个commit，用来撤销指定commit<br>后者的所有变化都将被前者抵消，并且应用到当前分支<br>$ git revert [commit]</li>
<li>暂时将未提交的变化移除，稍后再移入<br>$ git stash<br>$ git stash pop</li>
</ul>
</div><div class="tags"><a href="/tags/git/">git</a></div><div class="post-nav"><a class="pre" href="/2016/12/01/angular1_1/">$localhost用法</a><a class="next" href="/2016/11/23/install_ns2/">ubuntu安装ns2</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: '金城的妖精见过米',
  repo: 'Racaly.github.io',
  oauth: {
    client_id: '49a2cd93abf46889f320',
    client_secret: 'd4221a79fad00f29bc04d6dc748be47468e36931',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://Racaly.coding.me"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular1学习笔记/">angular1学习笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git学习笔记/">git学习笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js学习笔记/">js学习笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/npm/">npm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ubuntu学习笔记/">ubuntu学习笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/其他/" style="font-size: 15px;">其他</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/angular/" style="font-size: 15px;">angular</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/01/04/mac_terminal_command/">Mac 终端命令大全</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/03/event loop/">event loop</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/02/python3 install/">macOS 安装python3和pip</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/12/install-node-sass/">node-sass安装失败的解决办法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/01/angular1_1/">$localhost用法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/24/git_command_list/">常用git命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/23/install_ns2/">ubuntu安装ns2</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/13/host/">Chrome浏览器host配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/04/gitignore/">git忽略</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/26/闭包/">Javascript闭包</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">金城的妖精见过米.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zIndex="-2" count="50" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>